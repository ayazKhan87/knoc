<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knoc - Find Products Nearby</title>
    
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background: #0a0a0a;
            color: white;
            overflow-x: hidden;
        }

        /* Animated gradient background */
        .animated-gradient {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 25%, #2d1b1b 50%, #1a1a1a 75%, #0a0a0a 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        /* Time-based gradient adjustments */
        .morning-gradient {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 25%, #2d1b1b 50%, #1a1a1a 75%, #0a0a0a 100%);
        }

        .evening-gradient {
            background: linear-gradient(135deg, #0a0a0a 0%, #1f1f1f 25%, #3d1f1f 50%, #1f1f1f 75%, #0a0a0a 100%);
        }

        .night-gradient {
            background: linear-gradient(135deg, #050505 0%, #151515 25%, #251515 50%, #151515 75%, #050505 100%);
        }

        /* Glass effect */
        .glass-effect {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Enhanced search box */
        .search-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-box {
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(30px);
            border-radius: 25px;
            padding: 20px 60px 20px 25px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .search-box:focus-within {
            border-color: #ef4444;
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.3), 0 8px 32px rgba(0, 0, 0, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }

        .search-input {
            width: 100%;
            background: transparent;
            border: none;
            outline: none;
            color: white;
            font-size: 18px;
            font-weight: 500;
            padding-right: 50px;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .search-icon {
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.6);
            transition: color 0.3s ease;
        }

        .search-box:focus-within .search-icon {
            color: #ef4444;
        }

        /* Typing indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }

        .typing-dots {
            display: flex;
            margin-left: 8px;
        }

        .typing-dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #ef4444;
            margin: 0 2px;
            animation: typingDot 1.5s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingDot {
            0%, 60%, 100% { transform: scale(0.8); opacity: 0.5; }
            30% { transform: scale(1.2); opacity: 1; }
        }

        /* Suggestions dropdown */
        .suggestions-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-top: 10px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .suggestion-item {
            padding: 16px 20px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.2s ease;
        }

        .suggestion-item:hover,
        .suggestion-item.selected {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        /* Category indicator */
        .category-indicator {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(239, 68, 68, 0.2);
            backdrop-filter: blur(20px);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            opacity: 0;
            transition: all 0.3s ease;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .category-indicator.active {
            opacity: 1;
            transform: translateX(-50%) translateY(-10px);
        }

        /* Animated particles */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ef4444;
            border-radius: 50%;
            opacity: 0;
            animation: particleFloat 6s infinite;
        }

        @keyframes particleFloat {
            0%, 100% { opacity: 0; transform: translateY(0px) translateX(0px); }
            50% { opacity: 0.8; transform: translateY(-100px) translateX(50px); }
        }

        /* Dynamic background elements */
        .bg-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .bg-element {
            position: absolute;
            opacity: 0.1;
            transition: all 0.5s ease;
        }

        /* Feature cards */
        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 32px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(239, 68, 68, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .feature-card:hover::before {
            left: 100%;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            border-color: rgba(239, 68, 68, 0.3);
            box-shadow: 0 20px 60px rgba(239, 68, 68, 0.1);
        }

        /* Navigation */
        .nav-glass {
            backdrop-filter: blur(20px);
            background: rgba(10, 10, 10, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Button styles */
        .btn-primary {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border: none;
            border-radius: 20px;
            padding: 12px 28px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(239, 68, 68, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 12px 28px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            backdrop-filter: blur(20px);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .search-box {
                padding: 16px 50px 16px 20px;
            }
            
            .search-input {
                font-size: 16px;
            }
            
            .category-indicator {
                font-size: 12px;
                padding: 6px 16px;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #ef4444, #dc2626);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #dc2626, #b91c1c);
        }

        /* Video container */
        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 20px 80px rgba(0, 0, 0, 0.3);
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Privacy policy modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 9999;
            overflow-y: auto;
        }

        .modal-content {
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            color: white;
        }

        /* Footer */
        .footer {
            background: rgba(5, 5, 5, 0.9);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'red': {
                            50: '#fef2f2',
                            100: '#fee2e2',
                            200: '#fecaca',
                            300: '#fca5a5',
                            400: '#f87171',
                            500: '#ef4444',
                            600: '#dc2626',
                            700: '#b91c1c',
                            800: '#991b1b',
                            900: '#7f1d1d',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Enhanced Shop Search Component
        const EnhancedShopSearch = () => {
            const [searchQuery, setSearchQuery] = useState('');
            const [suggestions, setSuggestions] = useState([]);
            const [isLoading, setIsLoading] = useState(false);
            const [showSuggestions, setShowSuggestions] = useState(false);
            const [selectedIndex, setSelectedIndex] = useState(-1);
            const [currentCategory, setCurrentCategory] = useState('default');
            const [showTyping, setShowTyping] = useState(false);
            const [isFocused, setIsFocused] = useState(false);
            
            const searchRef = useRef(null);
            const suggestionsRef = useRef(null);

            // Enhanced categories with more keywords
            const categories = {
                food: {
                    keywords: ['food', 'restaurant', 'pizza', 'burger', 'cafe', 'bakery', 'grocery', 'fruits', 'vegetables', 'meat', 'dairy', 'snacks', 'beverages', 'dining', 'kitchen', 'cooking', 'recipe', 'meal', 'lunch', 'dinner', 'breakfast', 'delight', 'annapurna', 'hotel', 'sweet', 'tiffin', 'biryani', 'dosa', 'idli', 'curry', 'roti', 'naan', 'samosa', 'chaat', 'ice cream', 'juice', 'tea', 'coffee'],
                    name: 'ðŸ• Food & Dining',
                    color: '#ff6b6b'
                },
                fashion: {
                    keywords: ['fashion', 'clothing', 'clothes', 'boutique', 'apparel', 'dress', 'shirt', 'jeans', 'shoes', 'accessories', 'jewelry', 'bag', 'style', 'designer', 'brand', 'outfit', 'wardrobe', 'trendy', 'casual', 'formal', 'footwear', 'handbag', 'saree', 'mens', 'women', 'kids', 'cotton', 'silk', 'wedding', 'party', 'ethnic', 'western', 'kurti', 'lehnga', 'suit', 'wear', 'collection'],
                    name: 'ðŸ‘— Fashion & Style',
                    color: '#ff6b9d'
                },
                electronics: {
                    keywords: ['electronics', 'mobile', 'phone', 'laptop', 'computer', 'tablet', 'tv', 'gadget', 'tech', 'digital', 'smart', 'device', 'camera', 'headphones', 'speaker', 'gaming', 'software', 'hardware', 'iphone', 'android', 'samsung', 'apple', 'repair', 'accessories', 'charger', 'battery', 'memory', 'storage'],
                    name: 'ðŸ“± Electronics & Tech',
                    color: '#4ecdc4'
                },
                medical: {
                    keywords: ['medical', 'pharmacy', 'hospital', 'clinic', 'doctor', 'medicine', 'health', 'wellness', 'drugstore', 'chemist', 'dental', 'healthcare', 'treatment', 'therapy', 'surgery', 'emergency', 'ambulance', 'nurse', 'patient', 'diagnosis', 'ayurvedic', 'homeopathic', 'tablets', 'syrup', 'injection', 'bandage', 'first aid'],
                    name: 'ðŸ¥ Medical & Health',
                    color: '#ff4757'
                },
                beauty: {
                    keywords: ['beauty', 'salon', 'spa', 'cosmetics', 'makeup', 'hair', 'skin', 'nail', 'facial', 'massage', 'parlour', 'grooming', 'barber', 'styling', 'treatment', 'cream', 'lotion', 'shampoo', 'conditioner', 'perfume', 'lipstick', 'foundation'],
                    name: 'ðŸ’„ Beauty & Care',
                    color: '#ffa726'
                },
                home: {
                    keywords: ['home', 'furniture', 'decor', 'interior', 'kitchen', 'bedroom', 'living', 'dining', 'appliances', 'electronics', 'sofa', 'bed', 'table', 'chair', 'cupboard', 'wardrobe', 'lights', 'curtains', 'carpet', 'paint', 'tiles', 'hardware', 'tools'],
                    name: 'ðŸ  Home & Living',
                    color: '#26a69a'
                }
            };

            const debounce = (func, delay) => {
                let timeoutId;
                return (...args) => {
                    clearTimeout(timeoutId);
                    timeoutId = setTimeout(() => func(...args), delay);
                };
            };

            const detectCategory = (query) => {
                const lowerQuery = query.toLowerCase();
                
                // Check shop names and descriptions as well
                for (const [category, config] of Object.entries(categories)) {
                    if (config.keywords.some(keyword => 
                        lowerQuery.includes(keyword) || 
                        keyword.includes(lowerQuery)
                    )) {
                        return category;
                    }
                }
                
                return 'default';
            };

            const searchShops = async (query) => {
                if (query.length < 2) {
                    setSuggestions([]);
                    setShowSuggestions(false);
                    setShowTyping(false);
                    return;
                }

                setIsLoading(true);
                setShowTyping(true);
                
                try {
                    const response = await fetch(
                        `https://rtwtkapynafirwixyeal.supabase.co/functions/v1/shop-search?q=${encodeURIComponent(query)}`
                    );
                    
                    if (!response.ok) {
                        throw new Error('Failed to search shops');
                    }
                    
                    const data = await response.json();
                    setSuggestions(data.shops || []);
                    setShowSuggestions(true);
                    setShowTyping(false);
                } catch (error) {
                    console.error('Search error:', error);
                    setSuggestions([]);
                    setShowSuggestions(false);
                    setShowTyping(false);
                } finally {
                    setIsLoading(false);
                }
            };

            const debouncedSearch = debounce(searchShops, 300);

            const handleInputChange = (e) => {
                const value = e.target.value;
                setSearchQuery(value);
                setSelectedIndex(-1);
                
                // Update category
                const detectedCategory = detectCategory(value);
                setCurrentCategory(detectedCategory);
                
                if (value.trim()) {
                    debouncedSearch(value.trim());
                } else {
                    setSuggestions([]);
                    setShowSuggestions(false);
                    setShowTyping(false);
                    setCurrentCategory('default');
                }
            };

            const handleKeyDown = (e) => {
                if (!showSuggestions || suggestions.length === 0) return;

                switch (e.key) {
                    case 'ArrowDown':
                        e.preventDefault();
                        setSelectedIndex(prev => 
                            prev < suggestions.length - 1 ? prev + 1 : prev
                        );
                        break;
                    case 'ArrowUp':
                        e.preventDefault();
                        setSelectedIndex(prev => prev > 0 ? prev - 1 : -1);
                        break;
                    case 'Enter':
                        e.preventDefault();
                        if (selectedIndex >= 0) {
                            handleShopSelect(suggestions[selectedIndex]);
                        }
                        break;
                    case 'Escape':
                        setShowSuggestions(false);
                        setSelectedIndex(-1);
                        break;
                }
            };

            const handleShopSelect = (shop) => {
                setSearchQuery(shop.name);
                setShowSuggestions(false);
                setSelectedIndex(-1);
                window.open(shop.profileUrl, '_blank');
            };

            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (
                        searchRef.current &&
                        !searchRef.current.contains(event.target) &&
                        suggestionsRef.current &&
                        !suggestionsRef.current.contains(event.target)
                    ) {
                        setShowSuggestions(false);
                        setSelectedIndex(-1);
                        setIsFocused(false);
                    }
                };

                document.addEventListener('mousedown', handleClickOutside);
                return () => document.removeEventListener('mousedown', handleClickOutside);
            }, []);

            // Create background particles
            useEffect(() => {
                const createParticles = () => {
                    const container = document.querySelector('.bg-elements');
                    if (!container) return;

                    for (let i = 0; i < 20; i++) {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        particle.style.left = Math.random() * 100 + '%';
                        particle.style.top = Math.random() * 100 + '%';
                        particle.style.animationDelay = Math.random() * 6 + 's';
                        container.appendChild(particle);
                    }
                };

                createParticles();
            }, []);

            return (
                <div className="search-container">
                    <div className={`category-indicator ${currentCategory !== 'default' ? 'active' : ''}`}>
                        {currentCategory !== 'default' ? categories[currentCategory].name : 'Search for anything...'}
                    </div>
                    
                    <div className="search-box">
                        <input
                            ref={searchRef}
                            type="text"
                            value={searchQuery}
                            onChange={handleInputChange}
                            onKeyDown={handleKeyDown}
                            onFocus={() => {
                                setIsFocused(true);
                                if (suggestions.length > 0) {
                                    setShowSuggestions(true);
                                }
                            }}
                            onBlur={() => setIsFocused(false)}
                            placeholder="Search shops like 'Food Delight', 'Aman Mens Wear', 'Annapurna'..."
                            className="search-input"
                        />
                        
                        <div className="search-icon">
                            {isLoading ? (
                                <svg className="animate-spin w-6 h-6" fill="none" viewBox="0 0 24 24">
                                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"/>
                                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"/>
                                </svg>
                            ) : (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                            )}
                        </div>
                    </div>

                    {showSuggestions && (
                        <div ref={suggestionsRef} className="suggestions-dropdown">
                            {showTyping && (
                                <div className="typing-indicator">
                                    <span>Searching</span>
                                    <div className="typing-dots">
                                        <div className="typing-dot"></div>
                                        <div className="typing-dot"></div>
                                        <div className="typing-dot"></div>
                                    </div>
                                </div>
                            )}
                            
                            {!showTyping && suggestions.length > 0 && (
                                <div>
                                    <div className="px-6 py-3 text-sm font-medium text-gray-400 border-b border-gray-700">
                                        Found {suggestions.length} shop{suggestions.length !== 1 ? 's' : ''}
                                    </div>
                                    {suggestions.map((shop, index) => (
                                        <div
                                            key={shop.id}
                                            onClick={() => handleShopSelect(shop)}
                                            className={`suggestion-item ${index === selectedIndex ? 'selected' : ''}`}
                                        >
                                            <div className="flex items-center space-x-4">
                                                <div className="w-12 h-12 rounded-xl overflow-hidden bg-gray-700 flex-shrink-0">
                                                    {shop.image ? (
                                                        <img 
                                                            src={shop.image} 
                                                            alt={shop.name}
                                                            className="w-full h-full object-cover"
                                                        />
                                                    ) : (
                                                        <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-red-600 to-red-700">
                                                            <span className="text-white font-bold text-lg">
                                                                {shop.name.charAt(0).toUpperCase()}
                                                            </span>
                                                        </div>
                                                    )}
                                                </div>
                                                
                                                <div className="flex-1 min-w-0">
                                                    <div className="flex items-center space-x-2 mb-1">
                                                        <h3 className="text-white font-semibold text-lg truncate">
                                                            {shop.name}
                                                        </h3>
                                                        {shop.verified && (
                                                            <svg className="w-4 h-4 text-blue-400 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fillRule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                                                            </svg>
                                                        )}
                                                    </div>
                                                    
                                                    <p className="text-gray-400 text-sm truncate mb-2">
                                                        {shop.description || 'No description available'}
                                                    </p>
                                                    
                                                    <div className="flex items-center space-x-4 text-xs">
                                                        {shop.rating > 0 && (
                                                            <div className="flex items-center space-x-1">
                                                                <svg className="w-3 h-3 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                                                </svg>
                                                                <span className="text-gray-300">
                                                                    {shop.rating.toFixed(1)}
                                                                </span>
                                                            </div>
                                                        )}
                                                        
                                                        <div className={`px-2 py-1 rounded-full text-xs ${
                                                            shop.isOpen 
                                                                ? 'bg-green-900 text-green-300' 
                                                                : 'bg-gray-700 text-gray-400'
                                                        }`}>
                                                            {shop.isOpen ? 'Open' : 'Closed'}
                                                        </div>
                                                        
                                                        {shop.followerCount > 0 && (
                                                            <span className="text-gray-500">
                                                                {shop.followerCount} followers
                                                            </span>
                                                        )}
                                                    </div>
                                                </div>
                                                
                                                <div className="flex-shrink-0">
                                                    <svg className="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 5l7 7-7 7" />
                                                    </svg>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}
                            
                            {!showTyping && suggestions.length === 0 && (
                                <div className="px-6 py-12 text-center">
                                    <svg className="w-16 h-16 mx-auto mb-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                    </svg>
                                    <p className="text-lg font-semibold text-gray-300 mb-2">No shops found</p>
                                    <p className="text-sm text-gray-500">Try a different search term</p>
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        // Background Animation Component
        const BackgroundAnimation = () => {
            const [timeOfDay, setTimeOfDay] = useState('morning');
            
            useEffect(() => {
                const updateTimeOfDay = () => {
                    const hour = new Date().getHours();
                    if (hour >= 5 && hour < 12) setTimeOfDay('morning');
                    else if (hour >= 12 && hour < 17) setTimeOfDay('afternoon');
                    else if (hour >= 17 && hour < 20) setTimeOfDay('evening');
                    else setTimeOfDay('night');
                };
                
                updateTimeOfDay();
                const interval = setInterval(updateTimeOfDay, 60000); // Update every minute
                
                return () => clearInterval(interval);
            }, []);
            
            return <div className={`bg-elements ${timeOfDay}-gradient`}></div>;
        };

        // Privacy Policy Component
        const PrivacyPolicy = ({ onClose }) => {
            return (
                <div className="modal-overlay">
                    <div className="min-h-screen py-8 px-4">
                        <div className="max-w-4xl mx-auto">
                            <div className="modal-content shadow-2xl">
                                <div className="p-8 lg:p-12">
                                    <div className="flex justify-between items-start mb-8">
                                        <h1 className="text-3xl lg:text-4xl font-bold text-white">Privacy Policy</h1>
                                        <button 
                                            onClick={onClose}
                                            className="p-3 hover:bg-gray-800 rounded-xl transition-colors duration-200"
                                        >
                                            <svg className="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                            </svg>
                                        </button>
                                    </div>

                                    <p className="text-red-400 font-medium mb-8">Effective Date: February 13, 2025</p>

                                    <section className="mb-8">
                                        <h2 className="text-xl font-semibold text-white mb-4">Introduction</h2>
                                        <p className="text-gray-300 leading-relaxed">
                                            Knoc is a platform that connects users with shops around them. Users can submit product inquiries, 
                                            and shops can respond to those inquiries. The app allows shops to register and provide their details, 
                                            including their products and services.
                                        </p>
                                    </section>

                                    <section className="mb-8">
                                        <h2 className="text-xl font-semibold text-white mb-6">Data Collection and Usage</h2>
                                        <div className="space-y-6">
                                            <div className="bg-gray-800 bg-opacity-50 p-6 rounded-xl">
                                                <h3 className="font-semibold text-white mb-3">User Information We Collect:</h3>
                                                <ul className="list-disc list-inside text-gray-300 space-y-2">
                                                    <li>Full Name</li>
                                                    <li>Email Address</li>
                                                    <li>Contact Number</li>
                                                    <li>Location (for product inquiries)</li>
                                                </ul>
                                            </div>
                                            
                                            <div className="bg-gray-800 bg-opacity-50 p-6 rounded-xl">
                                                <h3 className="font-semibold text-white mb-3">Shop Information We Collect:</h3>
                                                <ul className="list-disc list-inside text-gray-300 space-y-2">
                                                    <li>Shop Name</li>
                                                    <li>Shop Images</li>
                                                    <li>Business Address</li>
                                                    <li>Owner's Name</li>
                                                    <li>Verification Photos</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>

                                    <section className="bg-gradient-to-r from-red-600 to-red-500 text-white p-8 rounded-xl">
                                        <h2 className="text-xl font-semibold mb-4">Contact Us</h2>
                                        <p className="mb-3 opacity-90">
                                            If you have any questions about our privacy policy, please contact us at:
                                        </p>
                                        <a 
                                            href="mailto:contact@knoc.in"
                                            className="text-white underline hover:text-red-200 transition-colors duration-300 font-medium"
                                        >
                                            contact@knoc.in
                                        </a>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // YouTube Video Component
        const YouTubeVideo = () => {
            return (
                <div className="video-container">
                    <iframe 
                        src="https://www.youtube.com/embed/x13KftlfDwc" 
                        title="YouTube video player" 
                        frameBorder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowFullScreen
                    ></iframe>
                </div>
            );
        };

        // Main App Component
        const KnocLandingPage = () => {
            const [showBusiness, setShowBusiness] = useState(false);
            const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);

            const userFeatures = [
                {
                    icon: "ðŸ”",
                    title: "Instant Search",
                    description: "Find any product in nearby stores with intelligent search that understands shop names and products"
                },
                {
                    icon: "ðŸ’¬",
                    title: "Direct Communication", 
                    description: "Chat with store owners, share product images, and get real-time responses"
                },
                {
                    icon: "ðŸ“",
                    title: "Location Based",
                    description: "Discover shops and products exactly where you are, from your neighborhood to nearby areas"
                }
            ];

            const businessFeatures = [
                {
                    icon: "ðŸ“Š",
                    title: "Access Local Demand",
                    description: "Know exactly what your neighbors are looking for and respond to real customer needs"
                },
                {
                    icon: "âš¡",
                    title: "Instant Inquiries",
                    description: "Receive product inquiries instantly and connect with customers actively searching for your products"
                },
                {
                    icon: "ðŸ“ˆ",
                    title: "Grow Your Business",
                    description: "Turn local searches into sales opportunities and build a loyal customer base in your area"
                }
            ];

            // Add dynamic background effects
            useEffect(() => {
                const handleScroll = () => {
                    const scrolled = window.pageYOffset;
                    const parallax = document.querySelector('.bg-elements');
                    if (parallax) {
                        parallax.style.transform = `translateY(${scrolled * 0.2}px)`;
                    }
                };

                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                <div className="min-h-screen animated-gradient">
                    <BackgroundAnimation />
                    
                    {/* Navigation */}
                    <nav className="fixed w-full z-50 nav-glass">
                        <div className="max-w-7xl mx-auto px-4 lg:px-8">
                            <div className="flex items-center justify-between py-4">
                                <div className="flex items-center space-x-3">
                                    <img 
                                        src="knoc_logo.png"
                                        alt="Knoc Logo"
                                        className="w-12 h-12 object-contain"
                                        onError={(e) => {
                                            e.target.outerHTML = '<div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center"><span class="text-white font-bold text-lg">K</span></div>';
                                        }}
                                    />
                                    <span className="text-2xl font-bold text-white">Knoc</span>
                                </div>
                                <button 
                                    onClick={() => setShowBusiness(!showBusiness)}
                                    className="btn-primary"
                                >
                                    {showBusiness ? "For Users" : "For Shops"}
                                </button>
                            </div>
                        </div>
                    </nav>

                    {/* Hero Section with Prominent Search */}
                    <section className="min-h-screen flex items-center justify-center relative pt-20 pb-20">
                        <div className="max-w-7xl mx-auto px-4 lg:px-8 text-center relative z-10">
                            <div className="mb-12">
                                <h1 className="text-4xl md:text-6xl lg:text-7xl font-bold text-white leading-tight mb-6">
                                    {showBusiness ? (
                                        <>
                                            Know What Your
                                            <span className="block bg-gradient-to-r from-red-400 to-red-600 text-transparent bg-clip-text">
                                                Neighbors Need
                                            </span>
                                        </>
                                    ) : (
                                        <>
                                            Knoc on
                                            <span className="block bg-gradient-to-r from-red-400 to-red-600 text-transparent bg-clip-text">
                                                Shop's Doors
                                            </span>
                                        </>
                                    )}
                                </h1>
                                
                                <p className="text-xl lg:text-2xl text-gray-300 leading-relaxed max-w-3xl mx-auto mb-12">
                                    {showBusiness ? 
                                        "Grow your business by instantly connecting with local customers actively searching for your products. Turn neighbors into customers." :
                                        "Find exactly what you need from nearby shops. Search by shop name, product, or category - all in your neighborhood."
                                    }
                                </p>
                            </div>

                            {/* Prominent Search Bar */}
                            <div className="mb-12 max-w-4xl mx-auto">
                                <div className="mb-6">
                                    <div className="inline-flex items-center space-x-2 bg-red-900 bg-opacity-30 text-red-300 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                                        <svg className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                            <path fillRule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clipRule="evenodd" />
                                        </svg>
                                        <span>Try Our Live Search</span>
                                    </div>
                                    <h2 className="text-2xl lg:text-3xl font-bold text-white mb-4">
                                        Find <span className="bg-gradient-to-r from-red-400 to-red-600 text-transparent bg-clip-text">Local Shops</span> Instantly
                                    </h2>
                                </div>
                                
                                <EnhancedShopSearch />
                                
                                <div className="text-center mt-6">
                                    <p className="text-sm text-gray-400">
                                        ðŸ’¡ Try: "Food Delight", "Aman Mens Wear", "Annapurna", "saree", "pharmacy"
                                    </p>
                                </div>
                            </div>

                            {/* CTA Buttons */}
                            <div className="flex flex-col sm:flex-row gap-4 justify-center mb-16">
                                <a 
                                    href={showBusiness ? 'https://www.knoc.in/' : 'https://play.google.com/store/apps/details?id=com.knoc.app'}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    className="btn-primary text-lg px-8 py-4"
                                >
                                    {showBusiness ? "Join as Shop" : "Download App"}
                                </a>
                                <button className="btn-secondary text-lg px-8 py-4">
                                    Watch Demo
                                </button>
                            </div>

                            {/* App Preview */}
                            <div className="relative max-w-4xl mx-auto">
                                <div className="relative">
                                    <div className="absolute inset-0 bg-gradient-to-r from-red-600/20 to-red-500/20 rounded-3xl blur-3xl"></div>
                                    <div className="relative glass-effect rounded-3xl p-8">
                                        <img 
                                            src="mainImage.png"
                                            alt="Knoc App Interface" 
                                            className="w-full h-auto rounded-2xl object-cover" 
                                            onError={(e) => {
                                                e.target.outerHTML = '<div class="w-full h-96 rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center"><div class="text-center"><div class="w-16 h-16 mx-auto mb-4 bg-red-500 rounded-2xl flex items-center justify-center"><span class="text-white font-bold text-2xl">K</span></div><p class="text-gray-300 font-medium">Knoc App Preview</p></div></div>';
                                            }}
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Features Section */}
                    <section className="py-20 relative">
                        <div className="max-w-7xl mx-auto px-4 lg:px-8">
                            <div className="text-center mb-16">
                                <h2 className="text-3xl lg:text-4xl font-bold text-white mb-6">
                                    {showBusiness ? "Grow Your Business" : "How It Works"}
                                </h2>
                                <p className="text-xl text-gray-300 max-w-2xl mx-auto">
                                    {showBusiness ? 
                                        "Transform local product searches into real sales opportunities" :
                                        "Connect with local businesses in three simple steps"
                                    }
                                </p>
                            </div>

                            <div className="grid md:grid-cols-3 gap-8">
                                {(showBusiness ? businessFeatures : userFeatures).map((feature, index) => (
                                    <div key={feature.title} className="feature-card">
                                        <div className="w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center mb-6">
                                            <span className="text-2xl">{feature.icon}</span>
                                        </div>
                                        <h3 className="text-xl font-bold text-white mb-4">
                                            {feature.title}
                                        </h3>
                                        <p className="text-gray-300 leading-relaxed">
                                            {feature.description}
                                        </p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* Video Section */}
                    <section className="py-20 relative">
                        <div className="max-w-5xl mx-auto px-4 lg:px-8">
                            <div className="text-center mb-12">
                                <h2 className="text-3xl lg:text-4xl font-bold text-white mb-6">
                                    See Knoc in Action
                                </h2>
                                <p className="text-xl text-gray-300 max-w-2xl mx-auto">
                                    Watch how easily you can find products and connect with shops near you
                                </p>
                            </div>
                            <YouTubeVideo />
                        </div>
                    </section>
                    
                    {/* Final CTA Section */}
                    <section className="py-20 relative">
                        <div className="max-w-4xl mx-auto px-4 lg:px-8">
                            <div className="relative overflow-hidden rounded-3xl bg-gradient-to-r from-red-600 to-red-500 p-12 lg:p-16 text-center text-white">
                                <div className="absolute inset-0 bg-black/20"></div>
                                <div className="relative z-10">
                                    <h2 className="text-3xl lg:text-4xl font-bold mb-6">
                                        {showBusiness ? "Ready to Grow?" : "Ready to Discover?"}
                                    </h2>
                                    <p className="text-xl mb-8 text-red-100 max-w-2xl mx-auto">
                                        {showBusiness ? 
                                            "Join thousands of local shops connecting with nearby customers every day" :
                                            "Join the community discovering amazing products in their neighborhood"
                                        }
                                    </p>
                                    <a 
                                        href={showBusiness ? 'https://www.knoc.in/' : 'https://play.google.com/store/apps/details?id=com.knoc.app'}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        className="inline-block bg-white text-red-600 px-8 py-4 rounded-2xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105"
                                    >
                                        {showBusiness ? "Register Your Shop" : "Download Knoc Now"}
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="footer">
                        <div className="max-w-7xl mx-auto px-4 lg:px-8 py-16">
                            <div className="grid grid-cols-1 lg:grid-cols-4 gap-8 mb-12">
                                <div className="lg:col-span-2">
                                    <div className="flex items-center space-x-3 mb-6">
                                        <img 
                                            src="knoc_logo.png"
                                            alt="Knoc Logo"
                                            className="w-12 h-12 object-contain"
                                            onError={(e) => {
                                                e.target.outerHTML = '<div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center"><span class="text-white font-bold text-lg">K</span></div>';
                                            }}
                                        />
                                        <span className="text-2xl font-bold text-white">Knoc</span>
                                    </div>
                                    <p className="text-gray-400 mb-6 max-w-md">
                                        Connecting neighborhood stores with local customers for instant product discovery and seamless shopping experiences.
                                    </p>
                                    
                                    <div className="flex space-x-4">
                                        <a 
                                            href="https://youtube.com/@knoc-knoc?si=S7SYD9A8QT3zfVJ9"
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            className="w-12 h-12 glass-effect rounded-xl flex items-center justify-center text-gray-400 hover:text-red-400 transition-all duration-300"
                                        >
                                            <svg className="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                            </svg>
                                        </a>
                                        <a 
                                            href="https://www.instagram.com/knocfind?igsh=dm5rZjloMjFjN2M4" 
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            className="w-12 h-12 glass-effect rounded-xl flex items-center justify-center text-gray-400 hover:text-red-400 transition-all duration-300"
                                        >
                                            <svg className="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"/>
                                            </svg>
                                        </a>
                                        <a 
                                            href="mailto:contact@knoc.in" 
                                            className="w-12 h-12 glass-effect rounded-xl flex items-center justify-center text-gray-400 hover:text-red-400 transition-all duration-300"
                                        >
                                            <svg className="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                    
                                <div>
                                    <h3 className="text-white font-bold mb-6">Quick Links</h3>
                                    <ul className="space-y-4">
                                        <li><a href="#" className="text-gray-400 hover:text-red-400 transition-colors duration-300">Home</a></li>
                                        <li><a href="#features" className="text-gray-400 hover:text-red-400 transition-colors duration-300">Features</a></li>
                                        <li><button onClick={() => setShowPrivacyPolicy(true)} className="text-gray-400 hover:text-red-400 transition-colors duration-300">Privacy Policy</button></li>
                                    </ul>
                                </div>
                    
                                <div>
                                    <h3 className="text-white font-bold mb-6">Get Started</h3>
                                    <ul className="space-y-4">
                                        <li><a href="https://play.google.com/store/apps/details?id=com.knoc.app" target="_blank" rel="noopener noreferrer" className="text-gray-400 hover:text-red-400 transition-colors duration-300">Download App</a></li>
                                        <li><a href="https://www.knoc.in/" target="_blank" rel="noopener noreferrer" className="text-gray-400 hover:text-red-400 transition-colors duration-300">Register Your Shop</a></li>
                                        <li><a href="#" className="text-gray-400 hover:text-red-400 transition-colors duration-300">How It Works</a></li>
                                        <li><a href="#" className="text-gray-400 hover:text-red-400 transition-colors duration-300">Support</a></li>
                                    </ul>
                                </div>
                            </div>
                    
                            <div className="border-t border-gray-700 pt-8">
                                <div className="text-center text-gray-400">
                                    <p>Â© {new Date().getFullYear()} Knoc. All rights reserved. | Connecting neighborhoods, one search at a time.</p>
                                </div>
                            </div>
                        </div>
                    </footer>
                    
                    {/* Privacy Policy Modal */}
                    {showPrivacyPolicy && (
                        <PrivacyPolicy onClose={() => setShowPrivacyPolicy(false)} />
                    )}
                </div>
            );
        };

        // Demo typing animation for showcase
        const DemoTypingAnimation = () => {
            const [currentText, setCurrentText] = useState('');
            const [isTyping, setIsTyping] = useState(false);
            
            const demoQueries = [
                'Food Delight',
                'Aman Mens Wear',
                'Annapurna Restaurant',
                'pharmacy near me',
                'saree collection',
                'mobile repair'
            ];
            
            useEffect(() => {
                let currentIndex = 0;
                let charIndex = 0;
                let isDeleting = false;
                
                const typeText = () => {
                    const currentQuery = demoQueries[currentIndex];
                    
                    if (isDeleting) {
                        setCurrentText(currentQuery.substring(0, charIndex - 1));
                        charIndex--;
                        if (charIndex === 0) {
                            isDeleting = false;
                            currentIndex = (currentIndex + 1) % demoQueries.length;
                        }
                    } else {
                        setCurrentText(currentQuery.substring(0, charIndex + 1));
                        charIndex++;
                        if (charIndex === currentQuery.length) {
                            setTimeout(() => {
                                isDeleting = true;
                            }, 2000);
                        }
                    }
                };
                
                const interval = setInterval(typeText, isDeleting ? 50 : 100);
                return () => clearInterval(interval);
            }, []);
            
            return currentText;
        };

        // Initialize GSAP animations
        useEffect(() => {
            // Animate elements on scroll
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        gsap.fromTo(entry.target, 
                            { opacity: 0, y: 50 }, 
                            { opacity: 1, y: 0, duration: 1, ease: "power2.out" }
                        );
                    }
                });
            });

            document.querySelectorAll('.feature-card').forEach((card) => {
                observer.observe(card);
            });

            // Cleanup
            return () => observer.disconnect();
        }, []);

        // Enhanced search with better UX
        const SearchWithDemo = () => {
            const [demoMode, setDemoMode] = useState(false);
            const demoText = DemoTypingAnimation();
            
            return (
                <div className="relative">
                    <EnhancedShopSearch />
                    
                    {/* Demo mode toggle */}
                    <div className="absolute -bottom-16 left-1/2 transform -translate-x-1/2">
                        <button
                            onClick={() => setDemoMode(!demoMode)}
                            className="text-xs text-gray-500 hover:text-gray-300 transition-colors duration-300"
                        >
                            {demoMode ? 'Stop Demo' : 'Watch Demo Typing'}
                        </button>
                    </div>
                    
                    {/* Demo overlay */}
                    {demoMode && (
                        <div className="absolute inset-0 pointer-events-none">
                            <div className="search-box">
                                <div className="search-input text-red-400 font-medium">
                                    {demoText}
                                    <span className="animate-pulse">|</span>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<KnocLandingPage />);
    </script>
</body>
</html>
